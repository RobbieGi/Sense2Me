{"ast":null,"code":"var _jsxFileName = \"D:\\\\Github\\\\Sense2MeNew\\\\sense2me-client\\\\src\\\\components\\\\admin\\\\AddProduct.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport \"./AddProduct.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddProduct() {\n  _s();\n  const [items, setItems] = useState([]);\n  useEffect(() => {\n    const form = document.getElementById(\"product-form\");\n    form.addEventListener(\"submit\", handleForm);\n    return () => {\n      form.removeEventListener(\"submit\", handleForm);\n    };\n  }, []);\n  useEffect(() => {\n    fetch('https://y6wf50h2e4.execute-api.eu-west-1.amazonaws.com/dev/getProductDalek', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then(data => {\n      setItems(JSON.parse(data.body));\n      console.log(JSON.parse(data.body));\n    }).catch(error => {\n      console.error(error);\n    });\n  }, []);\n  const findProductBySku = sku => {\n    const lowerCaseSku = sku.toLowerCase();\n    const matchingItem = items.find(item => {\n      // Check if the SKU property exists and is a string\n      if (item.sku.S) {\n        console.log('Database SKU:', item.sku.S);\n        console.log('Input SKU:', lowerCaseSku);\n        console.log('Comparison Result:', item.sku.S.toLowerCase() === lowerCaseSku);\n        return item.sku.S.toLowerCase() === lowerCaseSku;\n      }\n      return false; // If the SKU property is not a string, it won't match\n    });\n\n    console.log('Matching Item:', matchingItem);\n    return matchingItem;\n  };\n  function handleForm(event) {\n    event.preventDefault();\n    const sku = document.getElementById(\"sku\").value;\n    const name = document.getElementById(\"name\").value;\n    const price = document.getElementById(\"price\").value;\n    const description = document.getElementById(\"description\").value;\n    const image_url = document.getElementById(\"image_url\").value;\n    const inventory_count = document.getElementById(\"inventory_count\").value;\n    if (findProductBySku(sku)) {\n      console.log(\"hello\");\n      window.alert(\"Need a unique SKU as this is already in the system\");\n      return;\n    }\n\n    // Validation\n    if (!name || !price || !description || !image_url || !inventory_count || !sku) {\n      window.alert(\"All fields are required.\");\n      return;\n    }\n    console.log(name, price, description, image_url, inventory_count, sku);\n    fetch(\"https://oeblau5cyl.execute-api.eu-west-1.amazonaws.com/dev/postProductDalek\", {\n      mode: \"cors\",\n      method: \"POST\",\n      body: JSON.stringify({\n        sku: sku,\n        // Fix: Pass the SKU value correctly\n        name: name,\n        price: price,\n        description: description,\n        image_url: image_url,\n        inventory_count: inventory_count\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      if (res.ok) {\n        console.log(res);\n        return res.json();\n      }\n      throw new Error(\"Request failed!\");\n    }).then(data => {\n      window.alert(\"Posted Correctly\");\n      console.log(data);\n      document.getElementById(\"product-form\").reset();\n    }).catch(error => {\n      console.error(\"There was a problem with the fetch operation:\", error);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"AddProduct\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-main\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"product-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Add Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"SKU:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"sku\",\n          placeholder: \"sku\",\n          className: \"text-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Product Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          placeholder: \"product-name\",\n          className: \"text-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Product Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"float\",\n          id: \"price\",\n          placeholder: \"product-price\",\n          className: \"text-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Product Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"description\",\n          placeholder: \"product-description\",\n          className: \"text-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Product Image Link:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"image_url\",\n          placeholder: \"product-image\",\n          className: \"text-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Amount of Products:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"inventory_count\",\n          placeholder: \"product-amount\",\n          className: \"text-input\",\n          min: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Add Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n}\n_s(AddProduct, \"OFpe5t0oz9MFBJItuO7ZFbxuhyA=\");\n_c = AddProduct;\n;\nexport default AddProduct;\nvar _c;\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"names":["React","useEffect","useState","AddProduct","items","setItems","form","document","getElementById","addEventListener","handleForm","removeEventListener","fetch","method","headers","then","response","json","data","JSON","parse","body","console","log","catch","error","findProductBySku","sku","lowerCaseSku","toLowerCase","matchingItem","find","item","S","event","preventDefault","value","name","price","description","image_url","inventory_count","window","alert","mode","stringify","res","ok","Error","reset"],"sources":["D:/Github/Sense2MeNew/sense2me-client/src/components/admin/AddProduct.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport \"./AddProduct.css\";\r\n\r\nfunction AddProduct(){\r\n\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const form = document.getElementById(\"product-form\");\r\n    form.addEventListener(\"submit\", handleForm);\r\n    return () => {\r\n      form.removeEventListener(\"submit\", handleForm);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetch('https://y6wf50h2e4.execute-api.eu-west-1.amazonaws.com/dev/getProductDalek', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setItems(JSON.parse(data.body));\r\n        console.log(JSON.parse(data.body));\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n    }, []);\r\n\r\n    const findProductBySku = (sku) => {\r\n      const lowerCaseSku = sku.toLowerCase();\r\n    \r\n      const matchingItem = items.find((item) => {\r\n        // Check if the SKU property exists and is a string\r\n        if (item.sku.S) {\r\n          console.log('Database SKU:', item.sku.S);\r\n          console.log('Input SKU:', lowerCaseSku);\r\n          console.log('Comparison Result:', item.sku.S.toLowerCase() === lowerCaseSku);\r\n          return item.sku.S.toLowerCase() === lowerCaseSku;\r\n        }\r\n        return false; // If the SKU property is not a string, it won't match\r\n      });\r\n    \r\n      console.log('Matching Item:', matchingItem);\r\n      return matchingItem;\r\n    };\r\n    \r\n\r\n  function handleForm(event) {\r\n    event.preventDefault();\r\n  \r\n    const sku = document.getElementById(\"sku\").value;\r\n    const name = document.getElementById(\"name\").value;\r\n    const price = document.getElementById(\"price\").value;\r\n    const description = document.getElementById(\"description\").value;\r\n    const image_url = document.getElementById(\"image_url\").value;\r\n    const inventory_count = document.getElementById(\"inventory_count\").value;\r\n  \r\n    if(findProductBySku(sku)){\r\n      console.log(\"hello\")\r\n      window.alert(\"Need a unique SKU as this is already in the system\")\r\n      return;\r\n    }\r\n\r\n    // Validation\r\n    if (!name || !price || !description || !image_url || !inventory_count || !sku) {\r\n      window.alert(\"All fields are required.\");\r\n      return;\r\n    }\r\n  \r\n    console.log(name, price, description, image_url, inventory_count, sku);\r\n\r\n    fetch(\"https://oeblau5cyl.execute-api.eu-west-1.amazonaws.com/dev/postProductDalek\", {\r\n      mode: \"cors\",\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        sku: sku, // Fix: Pass the SKU value correctly\r\n        name: name,\r\n        price: price,\r\n        description: description,\r\n        image_url: image_url,\r\n        inventory_count: inventory_count,\r\n      }),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          console.log(res)\r\n          return res.json();\r\n        }\r\n        throw new Error(\"Request failed!\");\r\n      })\r\n      .then((data) => {\r\n        window.alert(\"Posted Correctly\");\r\n        console.log(data);\r\n        document.getElementById(\"product-form\").reset();\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"There was a problem with the fetch operation:\", error);\r\n      });\r\n  }\r\n    \r\n      return(\r\n        <div className=\"AddProduct\">\r\n          <div className=\"content-main\">\r\n              <form id=\"product-form\">\r\n                <label>Add Product</label>\r\n                <label>SKU:</label>\r\n                <input type=\"text\" id=\"sku\" placeholder=\"sku\" className=\"text-input\"/>\r\n                <label>Product Name:</label>\r\n                <input type=\"text\" id=\"name\" placeholder=\"product-name\" className=\"text-input\"/>\r\n                <label>Product Price:</label>\r\n                <input type=\"float\" id=\"price\" placeholder=\"product-price\" className=\"text-input\"/>\r\n                <label>Product Description:</label>\r\n                <input type=\"text\" id=\"description\" placeholder=\"product-description\" className=\"text-input\"/>\r\n                <label>Product Image Link:</label>\r\n                <input type=\"text\" id=\"image_url\" placeholder=\"product-image\" className=\"text-input\"/>\r\n                <label>Amount of Products:</label>\r\n                <input type=\"number\" id=\"inventory_count\" placeholder=\"product-amount\" className=\"text-input\" min=\"1\"/>\r\n                <button type=\"submit\">Add Product</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n};\r\n\r\nexport default AddProduct;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}